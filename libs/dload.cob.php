<?php
 class dload{ const version="\x31\x2e\x31\x2e\x30"; private $root=null; private $speed=null; function __construct(string $root="\x2e",int $speed=8,int $limit=0xff,string $tzone="\x41\x73\x69\x61\x2f\x4a\x61\x6b\x61\x72\x74\x61"){ ${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}=is_dir(${"\x72\x6f\x6f\x74"})?${"\x72\x6f\x6f\x74"}:"\x2e"; ${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}.=substr(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"},-1)!="\x2f"?"\x2f":''; ${"\x74\x68\x69\x73"}->{"\x73\x70\x65\x65\x64"}=${"\x73\x70\x65\x65\x64"}; @set_time_limit(${"\x6c\x69\x6d\x69\x74"}); if(!@date_default_timezone_set(${"\x74\x7a\x6f\x6e\x65"})){ @date_default_timezone_set("\x41\x73\x69\x61\x2f\x4a\x61\x6b\x61\x72\x74\x61"); }${"\x74\x68\x69\x73"}->{"\x6c\x6f\x67"}(); } public function start(){ if(!isset(${"\x5f\x47\x45\x54"}["\x66\x69\x6c\x65"])){ return ${"\x74\x68\x69\x73"}->{"\x6f\x75\x74"}(401); }${"\x66\x69\x6c\x65"}=${"\x74\x68\x69\x73"}->{"\x64\x62"}(${"\x5f\x47\x45\x54"}["\x66\x69\x6c\x65"]); if(!${"\x66\x69\x6c\x65"}){ return ${"\x74\x68\x69\x73"}->{"\x6f\x75\x74"}(403); }elseif(!is_file(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}.${"\x66\x69\x6c\x65"})){ return ${"\x74\x68\x69\x73"}->{"\x6f\x75\x74"}(404); }return ${"\x74\x68\x69\x73"}->{"\x72\x65\x61\x64"}(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}.${"\x66\x69\x6c\x65"},true); } private function out($c=null){ ${"\x68"}=[401=>"\x55\x6e\x61\x75\x74\x68\x6f\x72\x69\x7a\x65\x64",403=>"\x46\x6f\x72\x62\x69\x64\x64\x65\x6e",404=>"\x4e\x6f\x74\x20\x46\x6f\x75\x6e\x64"]; ${"\x63"}=array_key_exists(${"\x63"},${"\x68"})?${"\x63"}:401; ${"\x74"}=${"\x63"}."\x20".${"\x68"}[${"\x63"}]; header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x54\x79\x70\x65\x3a\x20\x74\x65\x78\x74\x2f\x70\x6c\x61\x69\x6e"); header("\x48\x54\x54\x50\x2f\x31\x2e\x31\x20".${"\x74"}); exit("\x45\x72\x72\x6f\x72\x3a\x20".${"\x74"}); } private function db($i=null){ if(!isset(${"\x69"})){return false;} if(!is_readable(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}) ||!is_writable(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"})){return false;} ${"\x54\x44\x42"}=${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}."\x64\x6c\x6f\x61\x64\x2e\x64\x62"; ${"\x6f"}=@fopen(${"\x54\x44\x42"},(is_file(${"\x54\x44\x42"})?"\x72\x62":"\x77\x62\x2b")); ${"\x72"}=false; while(!@feof(${"\x6f"})){ ${"\x67"}=trim(@fgets(${"\x6f"})); ${"\x64"}=@explode("\x7c",${"\x67"}); if(${"\x67"}==''||!isset(${"\x64"}[1])){continue;} if(${"\x64"}[0]==${"\x69"}){${"\x72"}=${"\x64"}[1];break;} }@fclose(${"\x6f"}); return ${"\x72"}; } private function log(){ if(!is_readable(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}) ||!is_writable(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"})){return false;} ${"\x69\x70"}=isset(${"\x5f\x53\x45\x52\x56\x45\x52"}["\x52\x45\x4d\x4f\x54\x45\x5f\x41\x44\x44\x52"])?${"\x5f\x53\x45\x52\x56\x45\x52"}["\x52\x45\x4d\x4f\x54\x45\x5f\x41\x44\x44\x52"]:''; ${"\x74\x69\x6d\x65"}=date("\x79\x6d\x64\x2d\x48\x69\x73"); ${"\x6f"}=@fopen(${"\x74\x68\x69\x73"}->{"\x72\x6f\x6f\x74"}."\x64\x6c\x6f\x61\x64\x2e\x6c\x6f\x67","\x61\x62"); ${"\x66"}=isset(${"\x66"})?${"\x66"}:''; ${"\x77"}=@fwrite(${"\x6f"},${"\x74\x69\x6d\x65"}."\x7c".${"\x69\x70"}."\x7c" .${"\x5f\x53\x45\x52\x56\x45\x52"}["\x52\x45\x51\x55\x45\x53\x54\x5f\x4d\x45\x54\x48\x4f\x44"]."\x7c" .@json_encode(${"\x5f\x47\x45\x54"})."\x7c" .@json_encode(${"\x5f\x50\x4f\x53\x54"})."\n"); @fclose(${"\x6f"}); return true; } private function read($f=null,$dl=false){ if(!is_string(${"\x66"})||!is_file(${"\x66"})){ header("\x48\x54\x54\x50\x2f\x31\x2e\x31\x20\x34\x30\x34\x20\x4e\x6f\x74\x20\x46\x6f\x75\x6e\x64"); exit("\x45\x72\x72\x6f\x72\x3a\x20\x34\x30\x34\x20\x4e\x6f\x74\x20\x46\x6f\x75\x6e\x64"); } ${"\x71"}=sprintf("\x22\x25\x73\x22",addcslashes(basename(${"\x66"}),'"\\')); ${"\x73"}=@${"\x74\x68\x69\x73"}->{"\x66\x69\x6c\x65\x73\x69\x7a\x65"}(${"\x66"}); if(${"\x64\x6c"}){header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\x3a\x20\x46\x69\x6c\x65\x20\x54\x72\x61\x6e\x73\x66\x65\x72");} header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x54\x79\x70\x65\x3a\x20".${"\x74\x68\x69\x73"}->{"\x6d\x69\x6d\x65"}(${"\x66"})); header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x44\x69\x73\x70\x6f\x73\x69\x74\x69\x6f\x6e\x3a\x20".(${"\x64\x6c"}?"\x61\x74\x74\x61\x63\x68\x6d\x65\x6e\x74":"\x69\x6e\x6c\x69\x6e\x65")."\x3b\x20\x66\x69\x6c\x65\x6e\x61\x6d\x65\x3d".${"\x71"}); header("\x4c\x61\x73\x74\x2d\x4d\x6f\x64\x69\x66\x69\x65\x64\x3a\x20".@gmdate("\x44\x2c\x20\x64\x20\x4d\x20\x59\x20\x48\x3a\x69\x3a\x73",@filemtime(${"\x66"}))."\x20\x47\x4d\x54"); header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x54\x72\x61\x6e\x73\x66\x65\x72\x2d\x45\x6e\x63\x6f\x64\x69\x6e\x67\x3a\x20\x62\x69\x6e\x61\x72\x79"); header("\x43\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x3a\x20\x4b\x65\x65\x70\x2d\x41\x6c\x69\x76\x65"); header("\x43\x61\x63\x68\x65\x2d\x43\x6f\x6e\x74\x72\x6f\x6c\x3a\x20\x6d\x75\x73\x74\x2d\x72\x65\x76\x61\x6c\x69\x64\x61\x74\x65\x2c\x20\x6d\x61\x78\x2d\x61\x67\x65\x3d\x30\x2c\x20\x70\x6f\x73\x74\x2d\x63\x68\x65\x63\x6b\x3d\x30\x2c\x20\x70\x72\x65\x2d\x63\x68\x65\x63\x6b\x3d\x30"); header("\x45\x78\x70\x69\x72\x65\x73\x3a\x20".@gmdate("\x44\x2c\x20\x64\x20\x4d\x20\x59\x20\x48\x3a\x69\x3a\x73",time()-(3*24*60*60))."\x20\x47\x4d\x54"); header("\x50\x72\x61\x67\x6d\x61\x3a\x20\x6e\x6f\x2d\x63\x61\x63\x68\x65"); header("\x41\x63\x63\x65\x70\x74\x2d\x52\x61\x6e\x67\x65\x73\x3a\x20\x62\x79\x74\x65\x73"); ${"\x6f"}=0;${"\x74"}=${"\x73"}; if(isset(${"\x5f\x53\x45\x52\x56\x45\x52"}["\x48\x54\x54\x50\x5f\x52\x41\x4e\x47\x45"])&&preg_match("\x2f\x62\x79\x74\x65\x73\x3d\x28\x5c\x64\x2b\x29\x2d\x28\x5c\x64\x2b\x29\x3f\x2f",${"\x5f\x53\x45\x52\x56\x45\x52"}["\x48\x54\x54\x50\x5f\x52\x41\x4e\x47\x45"],${"\x61"})){ if(${"\x73"}>PHP_INT_MAX){ ${"\x6f"}=floatval(${"\x61"}[1]);${"\x74"}=isset(${"\x61"}[2])?floatval(${"\x61"}[2]):${"\x73"}; }else{ ${"\x6f"}=intval(${"\x61"}[1]);${"\x74"}=isset(${"\x61"}[2])?intval(${"\x61"}[2]):${"\x73"}; } } header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x52\x61\x6e\x67\x65\x3a\x20\x62\x79\x74\x65\x73\x20".${"\x6f"}."\x2d".${"\x74"}."\x2f".${"\x73"}); if(${"\x6f"}>0||${"\x74"}<${"\x73"}){ header("\x48\x54\x54\x50\x2f\x31\x2e\x31\x20\x32\x30\x36\x20\x50\x61\x72\x74\x69\x61\x6c\x20\x43\x6f\x6e\x74\x65\x6e\x74"); }else{ header("\x48\x54\x54\x50\x2f\x31\x2e\x31\x20\x32\x30\x30\x20\x4f\x4b"); } header("\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x4c\x65\x6e\x67\x74\x68\x3a\x20".(${"\x74"}-${"\x6f"})); ${"\x73\x70\x64"}=isset(${"\x74\x68\x69\x73"}->{"\x73\x70\x65\x65\x64"})?(int)${"\x74\x68\x69\x73"}->{"\x73\x70\x65\x65\x64"}:8; @${"\x74\x68\x69\x73"}->{"\x72\x65\x61\x64\x63\x68\x75\x6e\x6b"}(${"\x66"},true,${"\x6f"},${"\x74"},${"\x73\x70\x64"}); exit; } private function readchunk($f=null,$r=true,$x=null,$y=null,$p=null,$u=true){ if(!is_string(${"\x66"})||!is_file(${"\x66"})){return false;} ${"\x62"}='';${"\x63"}=0;${"\x6f"}=fopen(${"\x66"},"\x72\x62");${"\x77"}=1024*(is_int(${"\x70"})?${"\x70"}:4); if(${"\x6f"}===false){return false;} if(isset(${"\x78"})){fseek(${"\x6f"},${"\x78"});} while(!feof(${"\x6f"})){ ${"\x62"}=fread(${"\x6f"},${"\x77"}); if(${"\x75"}){usleep(1000);} print(${"\x62"});flush(); if(${"\x72"}){${"\x63"}+=strlen(${"\x62"});} if(isset(${"\x79"})&&ftell(${"\x6f"})>=${"\x79"}){break;} }${"\x73"}=fclose(${"\x6f"}); if(${"\x72"}&&$s){return ${"\x63"};} return ${"\x73"}; } private function filesize($f=null){ if(is_dir(${"\x66"})){return @filesize(${"\x66"});} if(!is_file(${"\x66"})){return false;} ${"\x74"}=@\filesize(${"\x66"}); if(PHP_INT_SIZE===8){ return ${"\x74"}; }elseif(${"\x74"}>=0&&(${"\x6f"}=@fopen(${"\x66"},"\x72\x62"))&&fseek(${"\x6f"},0,SEEK_END)===0&&fclose(${"\x6f"})){ return ${"\x74"}; }elseif(strtoupper(substr(PHP_OS,0,3))==="WIN"){ @exec("\x66\x6f\x72\x20\x25\x49\x20\x69\x6e\x20\x28\x22".${"\x66"}."\x22\x29\x20\x64\x6f\x20\x40\x65\x63\x68\x6f\x20\x25\x7e\x7a\x49",${"\x6f"}); return @${"\x6f"}[0]; }elseif(strtoupper(substr(PHP_OS,0,5))==="LINUX"){ @exec("\x73\x74\x61\x74\x20\x2d\x63\x25\x73\x20".${"\x66"},${"\x6f"}); return @${"\x6f"}[0]; }else{ ${"\x67"}=pow(1024,3)*2; return ${"\x74"}<0?${"\x67"}+(${"\x67"}+${"\x74"}):${"\x74"}; } } private function mime($f=null){ ${"\x72"}="\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6f\x63\x74\x65\x74\x2d\x73\x74\x72\x65\x61\x6d"; if(!is_string(${"\x66"})){return ${"\x72"};} ${"\x74"}=array( "\x74\x78\x74"=>"\x74\x65\x78\x74\x2f\x70\x6c\x61\x69\x6e", "\x6c\x6f\x67"=>"\x74\x65\x78\x74\x2f\x70\x6c\x61\x69\x6e", "\x69\x6e\x69"=>"\x74\x65\x78\x74\x2f\x70\x6c\x61\x69\x6e", "\x68\x74\x6d\x6c"=>"\x74\x65\x78\x74\x2f\x68\x74\x6d\x6c", "\x63\x73\x73"=>"\x74\x65\x78\x74\x2f\x63\x73\x73", "\x70\x68\x70"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x78\x2d\x68\x74\x74\x70\x64\x2d\x70\x68\x70", "\x6a\x73"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x61\x76\x61\x73\x63\x72\x69\x70\x74", "\x6a\x73\x6f\x6e"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\x6e", "\x78\x6d\x6c"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x78\x6d\x6c", "\x6d\x70\x34"=>"\x76\x69\x64\x65\x6f\x2f\x6d\x70\x34", "\x6d\x70\x33"=>"\x61\x75\x64\x69\x6f\x2f\x6d\x70\x65\x67", "\x77\x61\x76"=>"\x61\x75\x64\x69\x6f\x2f\x77\x61\x76", "\x6f\x67\x67"=>"\x61\x75\x64\x69\x6f\x2f\x6f\x67\x67", "\x70\x6e\x67"=>"\x69\x6d\x61\x67\x65\x2f\x70\x6e\x67", "\x6a\x70\x65"=>"\x69\x6d\x61\x67\x65\x2f\x6a\x70\x65\x67", "\x6a\x70\x65\x67"=>"\x69\x6d\x61\x67\x65\x2f\x6a\x70\x65\x67", "\x6a\x70\x67"=>"\x69\x6d\x61\x67\x65\x2f\x6a\x70\x65\x67", "\x67\x69\x66"=>"\x69\x6d\x61\x67\x65\x2f\x67\x69\x66", "\x7a\x69\x70"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x7a\x69\x70", "\x72\x61\x72"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x78\x2d\x72\x61\x72\x2d\x63\x6f\x6d\x70\x72\x65\x73\x73\x65\x64", "\x70\x64\x66"=>"\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x70\x64\x66", ); ${"\x61"}=explode("\x2e",strtolower(basename(${"\x66"}))); ${"\x65"}=array_pop(${"\x61"}); return array_key_exists(${"\x65"},${"\x74"})?${"\x74"}[${"\x65"}]:${"\x72"}; } } 
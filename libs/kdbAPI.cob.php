<?php
 class kdbAPI{ const version="\x31\x2e\x32\x2e\x31"; const php_version=PHP_VERSION; protected $database=null; protected $connected=false; protected $session=null; protected $host=null; protected $scope=null; protected $access=null; public $start; public $errors=array(); public $error=false; function __construct($host=null,$user=null,$pass=null,$db=null,$timezone=null,$queries=null){ ${"\x74\x68\x69\x73"}->{"\x73\x74\x61\x72\x74"}=microtime(true); ${"\x64\x69\x72"}=defined("\x54\x45\x4d\x50")?TEMP:str_replace('\\',"\x2f",__DIR__)."\x2f"; if(is_file(${"\x64\x69\x72"}."\x6b\x61\x74\x79\x61\x2e\x69\x6e\x69")){ ${"\x63\x6f\x6e\x66\x69\x67"}=@parse_ini_file(${"\x64\x69\x72"}."\x6b\x61\x74\x79\x61\x2e\x69\x6e\x69",true); if(isset(${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x68\x6f\x73\x74"],${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x75\x73\x65\x72"],${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x70\x61\x73\x73"],${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x64\x62"],${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x74\x69\x6d\x65\x7a\x6f\x6e\x65"])){ ${"\x68\x6f\x73\x74"}=isset(${"\x68\x6f\x73\x74"})?${"\x68\x6f\x73\x74"}:${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x68\x6f\x73\x74"]; ${"\x75\x73\x65\x72"}=isset(${"\x75\x73\x65\x72"})?${"\x75\x73\x65\x72"}:${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x75\x73\x65\x72"]; ${"\x70\x61\x73\x73"}=isset(${"\x70\x61\x73\x73"})?${"\x70\x61\x73\x73"}:${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x70\x61\x73\x73"]; ${"\x64\x62"}=isset(${"\x64\x62"})?${"\x64\x62"}:${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x64\x62"]; ${"\x74\x69\x6d\x65\x7a\x6f\x6e\x65"}=isset(${"\x74\x69\x6d\x65\x7a\x6f\x6e\x65"})?${"\x74\x69\x6d\x65\x7a\x6f\x6e\x65"}:${"\x63\x6f\x6e\x66\x69\x67"}["\x6b\x64\x62"]["\x74\x69\x6d\x65\x7a\x6f\x6e\x65"]; } } ${"\x74\x7a"}=isset(${"\x74\x69\x6d\x65\x7a\x6f\x6e\x65"})?${"\x74\x69\x6d\x65\x7a\x6f\x6e\x65"}:"\x41\x73\x69\x61\x2f\x4a\x61\x6b\x61\x72\x74\x61"; if(!@date_default_timezone_set(${"\x74\x7a"})){@date_default_timezone_set("\x41\x73\x69\x61\x2f\x4a\x61\x6b\x61\x72\x74\x61");} if(isset(${"\x68\x6f\x73\x74"},${"\x75\x73\x65\x72"},${"\x70\x61\x73\x73"},${"\x64\x62"})){ ${"\x74\x68\x69\x73"}->{"\x68\x6f\x73\x74"}=${"\x68\x6f\x73\x74"}; ${"\x66"}=${"\x74\x68\x69\x73"}->{"\x73\x74\x72\x65\x61\x6d"}(${"\x68\x6f\x73\x74"},array("\x6b\x64\x62"=>${"\x74\x68\x69\x73"}->{"\x65\x6e\x63\x6f\x64\x65"}(array( "\x75\x73\x65\x72"=>${"\x75\x73\x65\x72"},"\x70\x61\x73\x73"=>${"\x70\x61\x73\x73"},"\x64\x62"=>${"\x64\x62"},"\x74\x69\x6d\x65\x7a\x6f\x6e\x65"=>${"\x74\x7a"},"\x71\x75\x65\x72\x69\x65\x73"=>${"\x71\x75\x65\x72\x69\x65\x73"} )))); if(!${"\x66"}){return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x66\x61\x69\x6c\x65\x64\x20\x74\x6f\x20\x63\x6f\x6e\x6e\x65\x63\x74\x20\x74\x6f\x20\x6b\x64\x62\x3a\x3a\x68\x6f\x73\x74\x20\x22".${"\x68\x6f\x73\x74"}."\x22",__FUNCTION__);} ${"\x64\x61\x74\x61"}=${"\x74\x68\x69\x73"}->{"\x64\x65\x63\x6f\x64\x65"}(${"\x66"}); if(isset(${"\x64\x61\x74\x61"}["\x73\x74\x61\x74\x75\x73"])){ if(${"\x64\x61\x74\x61"}["\x73\x74\x61\x74\x75\x73"]=="\x4f\x4b"&&isset(${"\x64\x61\x74\x61"}["\x73\x65\x73\x73\x69\x6f\x6e"])){ ${"\x74\x68\x69\x73"}->{"\x64\x61\x74\x61\x62\x61\x73\x65"}=${"\x64\x62"}; ${"\x74\x68\x69\x73"}->{"\x63\x6f\x6e\x6e\x65\x63\x74\x65\x64"}=true; ${"\x74\x68\x69\x73"}->{"\x73\x65\x73\x73\x69\x6f\x6e"}=${"\x64\x61\x74\x61"}["\x73\x65\x73\x73\x69\x6f\x6e"]; ${"\x74\x68\x69\x73"}->{"\x73\x63\x6f\x70\x65"}=${"\x64\x61\x74\x61"}["\x73\x63\x6f\x70\x65"]; ${"\x74\x68\x69\x73"}->{"\x61\x63\x63\x65\x73\x73"}=${"\x64\x61\x74\x61"}["\x61\x63\x63\x65\x73\x73"]; ${"\x74\x68\x69\x73"}->{"\x69\x6e\x66\x6f"}=${"\x64\x61\x74\x61"}["\x69\x6e\x66\x6f"]; if(isset(${"\x64\x61\x74\x61"}["\x72\x65\x73\x75\x6c\x74"])){${"\x74\x68\x69\x73"}->{"\x72\x65\x73\x75\x6c\x74"}=${"\x64\x61\x74\x61"}["\x72\x65\x73\x75\x6c\x74"];} return ${"\x74\x68\x69\x73"}; }else{ return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}(${"\x64\x61\x74\x61"}["\x6d\x65\x73\x73\x61\x67\x65"],__FUNCTION__); } }return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x73\x6f\x6d\x65\x74\x68\x69\x6e\x67\x20\x77\x72\x6f\x6e\x67\x20\x77\x69\x74\x68\x20\x6b\x64\x62\x3a\x3a\x73\x65\x72\x76\x65\x72",__FUNCTION__); }return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x72\x65\x71\x75\x69\x72\x65\x20\x68\x6f\x73\x74\x2c\x20\x75\x73\x65\x72\x6e\x61\x6d\x65\x2c\x20\x70\x61\x73\x73\x77\x6f\x72\x64\x20\x61\x6e\x64\x20\x64\x61\x74\x61\x62\x61\x73\x65\x20\x6e\x61\x6d\x65",__FUNCTION__); } public function close(){ ${"\x74\x68\x69\x73"}->{"\x64\x61\x74\x61\x62\x61\x73\x65"}=null; ${"\x74\x68\x69\x73"}->{"\x63\x6f\x6e\x6e\x65\x63\x74\x65\x64"}=false; foreach($GLOBALS as $k=>${"\x76"}){ if(is_object(${"\x76"})&&isset(${"\x76"}->{"\x73\x65\x73\x73\x69\x6f\x6e"})&&${"\x76"}->{"\x73\x65\x73\x73\x69\x6f\x6e"}==${"\x74\x68\x69\x73"}->{"\x73\x65\x73\x73\x69\x6f\x6e"}){ ${"\x47\x4c\x4f\x42\x41\x4c\x53"}[${"\x6b"}]=null; unset(${"\x47\x4c\x4f\x42\x41\x4c\x53"}[${"\x6b"}]); break; } }return true; } public function connected(){ return ${"\x74\x68\x69\x73"}->{"\x63\x6f\x6e\x6e\x65\x63\x74\x65\x64"}; } public function session(){ return ${"\x74\x68\x69\x73"}->{"\x73\x65\x73\x73\x69\x6f\x6e"}; } public function scope(){ return ${"\x74\x68\x69\x73"}->{"\x73\x63\x6f\x70\x65"}; } public function access(){ return ${"\x74\x68\x69\x73"}->{"\x61\x63\x63\x65\x73\x73"}; } public function query($s=null){ if(!${"\x74\x68\x69\x73"}->{"\x63\x6f\x6e\x6e\x65\x63\x74\x65\x64"}){return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x72\x65\x71\x75\x69\x72\x65\x20\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e",__FUNCTION__);} if(!is_string(${"\x73"})){return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x72\x65\x71\x75\x69\x72\x65\x20\x73\x74\x72\x69\x6e\x67\x20\x71\x75\x65\x72\x79",__FUNCTION__);} return ${"\x74\x68\x69\x73"}->{"\x73\x65\x72\x76\x65\x72"}(${"\x73"},"\x71\x75\x65\x72\x79"); } public function queries($s=null){ if(!${"\x74\x68\x69\x73"}->{"\x63\x6f\x6e\x6e\x65\x63\x74\x65\x64"}){return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x72\x65\x71\x75\x69\x72\x65\x20\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e",__FUNCTION__);} if(!is_string(${"\x73"})){return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x72\x65\x71\x75\x69\x72\x65\x20\x73\x74\x72\x69\x6e\x67\x20\x71\x75\x65\x72\x79",__FUNCTION__);} return ${"\x74\x68\x69\x73"}->{"\x73\x65\x72\x76\x65\x72"}(${"\x73"},"\x71\x75\x65\x72\x69\x65\x73"); } private function server($s=null,$a=null){ if(isset(${"\x61"},${"\x73"})){ ${"\x66"}=${"\x74\x68\x69\x73"}->{"\x73\x74\x72\x65\x61\x6d"}(${"\x74\x68\x69\x73"}->{"\x68\x6f\x73\x74"},array("\x6b\x64\x62"=>${"\x74\x68\x69\x73"}->{"\x65\x6e\x63\x6f\x64\x65"}(array("\x73\x65\x73\x73\x69\x6f\x6e"=>${"\x74\x68\x69\x73"}->{"\x73\x65\x73\x73\x69\x6f\x6e"},${"\x61"}=>${"\x73"})))); if(!${"\x66"}){return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x66\x61\x69\x6c\x65\x64\x20\x74\x6f\x20\x63\x6f\x6e\x6e\x65\x63\x74\x20\x74\x6f\x20\x6b\x64\x62\x3a\x3a\x68\x6f\x73\x74\x20\x22".${"\x74\x68\x69\x73"}->{"\x68\x6f\x73\x74"}."\x22","\x73\x65\x72\x76\x65\x72\x20\x65\x78\x65\x63\x75\x74\x69\x6f\x6e");} ${"\x64\x61\x74\x61"}=${"\x74\x68\x69\x73"}->{"\x64\x65\x63\x6f\x64\x65"}(${"\x66"}); if(isset(${"\x64\x61\x74\x61"}["\x73\x74\x61\x74\x75\x73"])){ if(${"\x64\x61\x74\x61"}["\x73\x74\x61\x74\x75\x73"]=="\x4f\x4b"&&isset(${"\x64\x61\x74\x61"}["\x72\x65\x73\x75\x6c\x74"])){ ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72\x73"}=array_merge(${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72\x73"},(array)${"\x64\x61\x74\x61"}["\x65\x72\x72\x6f\x72\x73"]); ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}=${"\x64\x61\x74\x61"}["\x65\x72\x72\x6f\x72"]; ${"\x74\x68\x69\x73"}->{"\x69\x6e\x66\x6f"}=${"\x64\x61\x74\x61"}["\x69\x6e\x66\x6f"]; return ${"\x64\x61\x74\x61"}["\x72\x65\x73\x75\x6c\x74"]; }return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}(${"\x64\x61\x74\x61"}["\x6d\x65\x73\x73\x61\x67\x65"],"\x73\x65\x72\x76\x65\x72\x20\x65\x78\x65\x63\x75\x74\x69\x6f\x6e"); }return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x73\x6f\x6d\x65\x74\x68\x69\x6e\x67\x20\x77\x72\x6f\x6e\x67\x20\x77\x69\x74\x68\x20\x6b\x64\x62\x3a\x3a\x73\x65\x72\x76\x65\x72","\x73\x65\x72\x76\x65\x72\x20\x65\x78\x65\x63\x75\x74\x69\x6f\x6e"); }return ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}("\x69\x6e\x76\x61\x6c\x69\x64\x20\x61\x72\x67\x75\x6d\x65\x6e\x74\x20\x66\x6f\x72\x20\x6b\x64\x62\x3a\x3a\x73\x65\x72\x76\x65\x72","\x73\x65\x72\x76\x65\x72\x20\x65\x78\x65\x63\x75\x74\x69\x6f\x6e"); } private function stream($u=null,$d=array(),$c=null,$m=null){ if(isset(${"\x75"})){ ${"\x6d\x73"}=array("\x47\x45\x54","\x50\x4f\x53\x54","\x4f\x50\x54\x49\x4f\x4e\x53","\x50\x55\x54");${"\x63"}=is_string(${"\x63"})?${"\x63"}:''; ${"\x6f"}=array( "\x68\x74\x74\x70"=>array( "\x6d\x65\x74\x68\x6f\x64"=>isset(${"\x6d"})&&in_array(${"\x6d"},${"\x6d\x73"})?${"\x6d"}:"\x50\x4f\x53\x54", "\x68\x65\x61\x64\x65\x72"=>"content-type:application/x-www-form-urlencoded;charset=utf-8;\r\ncookie:".${"\x63"}, "\x63\x6f\x6e\x74\x65\x6e\x74"=>@http_build_query(${"\x64"},'',"\x26") ), "\x73\x73\x6c"=>array( "\x76\x65\x72\x69\x66\x79\x5f\x70\x65\x65\x72"=>false, "\x76\x65\x72\x69\x66\x79\x5f\x70\x65\x65\x72\x5f\x6e\x61\x6d\x65"=>false, "\x63\x61\x70\x74\x75\x72\x65\x5f\x73\x65\x73\x73\x69\x6f\x6e\x5f\x6d\x65\x74\x61"=>true, "\x63\x72\x79\x70\x74\x6f\x5f\x6d\x65\x74\x68\x6f\x64"=>STREAM_CRYPTO_METHOD_TLS_CLIENT, ) ); return @file_get_contents(${"\x75"},false,@stream_context_create(${"\x6f"})); }return false; } private function error($s=null,$l=false){ if(isset(${"\x73"})){ ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72"}=${"\x73"}; ${"\x6c"}=is_string(${"\x6c"})?${"\x6c"}."\x20":''; ${"\x74\x68\x69\x73"}->{"\x65\x72\x72\x6f\x72\x73"}[${"\x6c"}."\x23".uniqid()]=${"\x73"}; }return false; } private function decode($s=null){ if(is_string(${"\x73"})){ return unserialize(base64_decode(${"\x73"})); }return false; } private function encode($s=null){ if(isset(${"\x73"})){ return base64_encode(serialize(${"\x73"})); }return false; } } 